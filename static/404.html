<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
    />
    <title>Ultraviolet | Error</title>
    <meta
      name="description"
      content="Ultraviolet is a highly sophisticated proxy used for evading internet censorship or accessing websites in a controlled sandbox using the power of service-workers. Unblock sites today!"
    />
    <meta
      name="theme-color"
      media="(prefers-color-scheme: dark)"
      content="#434c5e"
    />
    <meta name="googlebot" content="noindex, nofollow, nosnippet" />
    <base href="/" />
    <link rel="shortcut icon" content="favicon.ico" />
    <link rel="stylesheet" href="index.css" />
  </head>

  <body>
    <div class="logo-wrapper left-margin">
      <h1>Ultraviolet | Error</h1>
    </div>
    <div class="desc left-margin">
      <p>The server could not route your request.</p>
      <p id="uv-error"></p>
      <code id="uv-error-code"></code>
      <button id="uv-register-sw" value="Register service worker">
        Register ServiceWorker
      </button>
    </div>
    <footer>
      <a
        title="License information"
        href="credits.html"
        style="margin-left: auto"
        >Credits</a
      >
      <span>Ultraviolet &copy; TN 2022</span>
    </footer>
    <script src="uv/uv.bundle.js"></script>
    <script src="uv/uv.config.js"></script>
    <script src="register-sw.js"></script>
    <script src="error.js"></script>
      <script>
    navigator.serviceWorker.register("/uv-sw.js");

              if (window.self !== window.top || window.location.pathname.includes("/games/") || window.location.pathname.includes("/apps/") || window.location.pathname.includes("/cheats/") || window.location.pathname.includes("/gameframe.html") || window.location.pathname.includes("/appframe.html")) {
                document.getElementById("uv-error").innerHTML = `
                  <div class="title">Registering Service Worker</div>
                  <div class="message">Please Wait...</div>
                  `;
                try {
                  navigator.serviceWorker.register("/uv-sw.js");
                  window.location.reload();
                } catch (error) {
                  console.error("Service Worker registration failed:", error);
                  console.warn("Since the registration of the service worker failed, many things will also break.");
                  window.location.reload();
                }
              } 

          </script>
  </body>
</html>
